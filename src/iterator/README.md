# Iteratorパターン

## Iteratorパターンとは
Iteratorパターンは、コレクション（リスト・配列など）の要素に順番にアクセスするためのデザインパターンです。コレクションの内部構造を隠蔽しながら、要素を巡回するための標準的な方法を提供します。

## 目的
- コレクション内の要素に順番にアクセスする
- コレクションの内部構造を隠蔽する
- 複数のコレクションを同じインターフェースで巡回する

## メリット・デメリット

### メリット
- コレクションの内部構造を意識せずに要素を走査できる
- 複数のコレクションを同じインターフェースで巡回できる
- コレクションの要素を簡単に巡回できる
- コードの分離ができ、コレクションと走査の責務を分けられる
- 拡張性が高く、新しいイテレーション方法を追加しやすい

### デメリット
- コレクションのサイズが大きいと、パフォーマンスが低下する可能性がある
- 単純なコレクションには過剰な設計になる可能性がある

## 主なユースケース（具体的に）

1. **コレクションの巡回**
   - 配列やリストの要素を順番に処理
   - 例：リストの全要素を表示

2. **データベースのレコード巡回**
   - データベースのレコードを順番に処理
   - 例：SQLクエリの結果を巡回

3. **ファイルシステムの巡回**
   - ディレクトリ内のファイルを順番に処理
   - 例：ディレクトリ内の全ファイルを表示

4. **カスタムコレクションの巡回**
   - 独自のコレクションを巡回
   - 例：カスタムデータ構造の要素を巡回

5. **ツリーやグラフの走査**
   - 深さ優先探索（DFS）、幅優先探索（BFS）

## 実装例の説明
このサンプルコードでは、以下のような構造でIteratorパターンを実装しています：

1. **Iterator（インターフェース）**
   - コレクションの要素を巡回するためのインターフェース
   - hasNext()とnext()メソッドを定義

2. **Container（インターフェース）**
   - イテレーターを取得するためのインターフェース
   - getIterator()メソッドを定義

3. **ConcreteContainer（具象クラス）**
   - 具体的なコレクションを実装
   - NameRepositoryクラス

4. **ConcreteIterator（具象クラス）**
   - 具体的なイテレーターを実装
   - NameIteratorクラス

## よくある質問（FAQ）

### Q: IteratorパターンとFor-Eachループの違いは何ですか？
A: Iteratorパターンはコレクションの内部構造を隠蔽し、標準的な方法で要素を巡回するのに対し、For-Eachループはコレクションの要素を簡単に巡回するための構文糖です。独自のコレクションを作る場合や、異なるデータ構造を統一的に扱いたい場合は Iterator パターンが有効

### Q: Java の Iterator<T> との違いは？
A: Java 標準の Iterator<T> は java.util パッケージにあり、List や Set などのコレクションに適用可能。標準的な Java の Iterator<T> を使えば、自作する必要はほとんどない。

### Q: Iteratorパターンはいつ使用すべきですか？
A: 以下のような場合に使用すべきです：
- コレクションの内部構造を隠蔽したい場合
- 複数のコレクションを同じインターフェースで巡回したい場合
- コレクションの要素を簡単に巡回したい場合

### Q: Iteratorパターンの実装コストは高いですか？
A: 小規模なコレクションでは過剰な設計になる可能性がありますが、大規模なコレクションや複雑なデータ構造を扱う場合は、柔軟性と保守性の向上によりコストを回収できます。 