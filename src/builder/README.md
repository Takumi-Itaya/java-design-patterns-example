# Builder パターン

## ファクトリメソッドパターンとは

Builder パターンは、複雑なオブジェクトの生成を段階的に行うためのデザインパターンです。このパターンでは、オブジェクトの生成プロセスを細かいステップに分割し、各ステップを独立して実行できるようにします。

## 目的

- 複雑なオブジェクトの生成プロセスを段階的に制御する
- 同じ生成プロセスで異なる表現のオブジェクトを作成する
- オブジェクトの生成と表現を分離する
- コンストラクタや setter での初期化が煩雑になるのを防ぐ

## メリット・デメリット

**メリット**

- 複雑なオブジェクトを段階的に構築できる。各ステップを独立して制御可能。
- 同じ生成プロセスで異なる表現のオブジェクトを作成可能など、カスタマイズが容易にできる
- 可読性の高いコードが書ける
- setter を使わずに値を変更できないオブジェクトを作成できるので Immutable なオブジェクトを作れる
- インスタンスの作成を統一的に管理でき、一貫したオブジェクトを生成できる

**デメリット**

- パターンの実装が複雑になったり、クラスの数が増え、複雑性が増す
- 毎回 Builder インスタンスを作成するため、メモリ使用量が増えるため、パフォーマンスに影響を及ぼす

## 主なユースケース

1. **複雑なオブジェクトの生成 (例: 商品オブジェクト)**

   必須・オプションパラメータが多い場合に有効

2. **段階的にオブジェクトを組み立てる (例: SQL クエリ構築)**

   QueryBuilder のように、オプションを動的に設定、設定ファイルの読み込み、

3. **Immutable なオブジェクトの作成 (例: 設定情報, DTO)**

   設定オブジェクトの生成、final で変更不可なオブジェクトを作る

4. **同じオブジェクトの異なるバリエーションを作る (例: レストランのメニュー)**

   BurgerBuilder().setCheese(true).setTomato(false).build()

## 実装例の説明

このプロジェクトでは、パソコンのカスタマイズを例として実装しています：

1. **製品クラス**

   - `Computer`: パソコンの基本クラス
   - 各コンポーネント（CPU, RAM, GPU 等）を保持

2. **ビルダーインターフェース**

   - `ComputerBuilder`: パソコン生成のためのインターフェース
   - 各コンポーネントの設定メソッドを定義

3. **具体ビルダー**

   - `GamingComputerBuilder`: ゲーミング PC 用のビルダー
   - `OfficeComputerBuilder`: オフィス PC 用のビルダー

4. **Director**
   - `ComputerDirector`: パソコン生成を指揮するクラス
   - 事前定義された構成を提供

## よくある質問（FAQ）

Q: **Builder パターンと Factory Method パターンの違いは？**

A: Factory Method パターンは単一のオブジェクトを生成するのに対し、Builder パターンは複雑なオブジェクトを段階的に生成します。Builder パターンは、オブジェクトの生成プロセスをより細かく制御できます。

Q: **いつ Builder パターンを使用すべきか？**

A: 以下のような場合に使用することを推奨します：

- オブジェクトの生成プロセスが複雑な場合
- 同じ生成プロセスで異なる表現のオブジェクトを作成する必要がある場合
- オブジェクトの生成を段階的に制御したい場合

Q: **Director は必須か？**

A: いいえ、Director は必須ではありません。Director は、よく使用される構成を提供するためのオプションのコンポーネントです。Builder を直接使用してカスタムオブジェクトを生成することも可能です。

Q: **Builder パターンとテレスコーピックコンストラクタの違いは？**

A: テレスコーピックコンストラクタは、異なるパラメータ数のコンストラクタを提供しますが、Builder パターンはより柔軟で、名前付きパラメータを使用して段階的にオブジェクトを構築できます。

Q: **Java の StringBuilder も Builder パターン？**

A: StringBuilder は append() を使って文字列を連結し、最終的に toString() でオブジェクトを作成する
