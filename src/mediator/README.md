# Mediatorパターン

## Mediatorパターンとは
Mediatorパターンは、オブジェクト間の通信を仲介するオブジェクトを導入することで、オブジェクト間の直接的な依存関係を減らし、結合度を下げるデザインパターンです。複数のオブジェクト間の相互作用を一元管理します。

## 目的
- オブジェクト間の直接的な依存関係を減らす
- オブジェクト間の通信を一元管理する
- システムの結合度を下げる
- オブジェクト間の相互作用を柔軟に変更できる

## メリット・デメリット

### メリット
- オブジェクト間の結合度を下げられる
- オブジェクト間の通信を一元管理できる
- 新しいコンポーネントの追加が簡単（例: 新しいユーザーを追加しても、既存のユーザーは変更不要）
- オブジェクト間の相互作用を柔軟に変更できる

### デメリット
- メディエーターが複雑になる可能性がある
- パフォーマンスが低下する可能性がある
- システムの理解が難しくなる可能性がある

## 主なユースケース（具体的に）

1. **チャットアプリケーション**
   - 複数のユーザー間のメッセージ交換
   - 複数ユーザーが仲介者を通じてメッセージをやり取り
   - 例：チャットルーム、メッセージングシステム

2. **GUIアプリケーション**
   - ウィジェット間の相互作用
   - ボタン、テキスト入力、チェックボックスの連携
   - 例：フォーム、ダイアログ

3. **航空管制システム**
   - 複数の航空機間の通信
   - 飛行機同士が直接通信せず、管制塔（Mediator）を通じてやり取り
   - 例：飛行管制、着陸管理

4. **ゲームシステム**
   - プレイヤー間の相互作用
   - 例：マルチプレイヤーゲーム

5. **イベントシステム**
   - Publisher-Subscriber（Pub-Sub）モデルの実装

## 実装例の説明
このサンプルコードでは、以下のような構造でMediatorパターンを実装しています：

1. **Mediator（インターフェース）**
   - オブジェクト間の通信を仲介するインターフェース
   - ChatMediatorインターフェース

2. **ConcreteMediator（具象クラス）**
   - 具体的な仲介処理を実装
   - ChatRoomクラス

3. **Colleague（インターフェース）**
   - メディエーターと通信するオブジェクトのインターフェース
   - Userインターフェース

4. **ConcreteColleague（具象クラス）**
   - 具体的な通信オブジェクトを実装
   - ChatUserクラス

## よくある質問（FAQ）

### Q: MediatorパターンとObserverパターンの違いは何ですか？
A: Mediatorパターンはオブジェクト間の通信を仲介するのに対し、Observerパターンはオブジェクト間の一対多の依存関係を定義します。

### Q: Mediatorパターンはいつ使用すべきですか？
A: 以下のような場合に使用すべきです：
- オブジェクト間の直接的な依存関係を減らしたい場合
- オブジェクト間の通信を一元管理したい場合
- システムの結合度を下げたい場合

### Q: Mediatorパターンの実装コストは高いですか？
A: メディエーターの実装が複雑になる可能性がありますが、システムの柔軟性と保守性の向上により、長期的にはコストを回収できる場合があります。 